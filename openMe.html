<!DOCTYPE html>
<html>
<head>
	<script lang="javascript" src="js/jquery-3.1.0.min.js"></script>
	<script lang="javascript" src="js/d3.min.js"></script>
	<style>
		html, body {
			padding: 0;
			margin: 0;
		}
	</style>
</head>
<body>
	
	<script>
		var dimension = 500;
		var dataset = new Array(121);
		populate(dataset, 13);

		function populate(array, num) {
			for (var i = array.length - 1; i >= 0; i--) {
				array[i] = num;
			}
		};

		var svg = d3.select('body').append('svg')
			.attr('width', dimension)
			.attr('height', dimension)
			.style('background-color', 'gray');

		// YOUR CODE SHOULD START HERE
		/*
		 * Name: Anthony Ong
		 * Word: Cower
		 */

		var circles = svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle");

        circles
        	.attr("cx", function(d, i) {
            	return (i%11 * 25) + 125;
        	})
       		.attr("cy", function(d, i) {
       			return Math.floor(i/11) * 25 + 125;
       		})
       		.attr("r", function(d) {
            	return d;
       		})
  			.attr("fill", "#228b22");

		d3.selectAll("circle").on("mouseleave", function() {
			d3.select(this).each(cower);
		});

		d3.selectAll("circle").on("mousedown", function() {
			d3.select(this).each(capture);
		});

		d3.selectAll("circle").on("mouseup", function() {
			d3.select(this).each(cower);
		});

		var cower = function() {
			d3.select(this)
				.transition()
				.duration(1000)
				.style("opacity", 0.5)
				.attr("cx", (400 * direct() + parseInt(d3.select(this).attr("cx"))))
				.attr("cy", (400 * direct() + parseInt(d3.select(this).attr("cy"))))
				.attr("r", (parseInt(d3.select(this).attr("r")) - 4))
				.attr("fill", "#ffff00");
		}

		var capture = function() {
			d3.select(this).on("mousemove", function () {
					d3.select(this)
						.attr("cx", d3.mouse(this)[0])
						.attr("cy", d3.mouse(this)[1]);
				});
		}

		function direct() {
    		var n = Math.floor(Math.random() * 3 - 1);
    		return n;
		}

		// YOUR CODE SHOULD END HERE
	</script>
</body>
</html>